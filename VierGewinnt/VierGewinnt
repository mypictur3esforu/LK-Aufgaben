import javax.swing.*;
import java.awt.*;

class VierGewinnt{
    Spieler[] alleSpieler;
    Spielfeld spielfeld;
    Spieler amZug;
    JButton[][] buttons;
    static int reihen = 7, spalte = 6;
    Color playerOne, playerTwo;
    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();
    Dimension minSize = new Dimension(screenSize.height, screenSize.height);

    VierGewinnt(){
        buttons = new JButton[VierGewinnt.reihen][VierGewinnt.spalte];
        playerOne = Color.red;
        playerTwo = Color.yellow;
        alleSpieler = new Spieler[]{new Spieler(playerOne), new Spieler(playerTwo)};
        amZug = alleSpieler[0];
        spielfeld = new Spielfeld();
        CreateUi();
    }

    public static void main( String[ ] args ) {
        new VierGewinnt();
    }

    void CreateUi(){
        JFrame frame = new JFrame("Vier Gewinnt");
        JPanel feld = new JPanel(new GridLayout(VierGewinnt.reihen, 1));
        for (int i = 0; i < VierGewinnt.reihen; i++) {
            for (int j = 0; j < VierGewinnt.spalte; j++) {
                JButton button = new JButton();
                button.setBackground(new Color(0x0000000, true));
                int finalI = i;
                int finalJ = j;
                button.addActionListener((ev)->{
                    ButtonKlick(finalI, finalJ);
                });
                button.setRolloverEnabled(false);
                buttons[i][j] = button;
                feld.add(button);
            }
        }
        frame.add(feld);
        frame.setSize(minSize);
        frame.setLocationRelativeTo(null);
        frame.setVisible(true);
    }
    void ButtonKlick(int reihe, int spalte){
        spielfeld.felderDesFelds[reihe][spalte].belegung = amZug;
        buttons[reihe][spalte].setBackground(amZug.farbe);
        if (amZug == alleSpieler[0]) {
            amZug = alleSpieler[1];
        }else if (amZug == alleSpieler[1]) {
            amZug = alleSpieler[0];
        }
    }


}
